<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è¯¾ç¨‹è¡¨</title>
    <link rel="stylesheet" href="../css/style.css">
    <style>
        table {
            width: 100%;
            border-collapse: collapse;
        }

        th,
        td {
            border: 1px solid rgb(141, 26, 156);
            padding: 8px;
            text-align: center;
        }

        th {
            background-color: #f2f2f2;
        }

        td {
            height: 5;
        }
    </style>
</head>

<body>
    <nav>
        <ul>
            <li><a href="./index.html" class="active">é¦–é¡µ</a></li>
            <li><a href="./course.html">æˆ‘çš„è¯¾è¡¨</a></li>
            <li><a href="./login.html">ç™»å½•</a></li>
            <li><a href="./reg.html">æ³¨å†Œ</a></li>
        </ul>
    </nav>
    <h2>æˆ‘çš„è¯¾è¡¨</h2>

    <table>
        <tr>
            <th></th>
            <th>å‘¨ä¸€</th>
            <th>å‘¨äºŒ</th>
            <th>å‘¨ä¸‰</th>
            <th>å‘¨å››</th>
            <th>å‘¨äº”</th>
            <th>å‘¨å…­</th>
            <th>å‘¨æ—¥</th>
        </tr>
        <tr>
            <td>ç¬¬1èŠ‚</td>
            <td contenteditable="true"></td>
            <td contenteditable="true"></td>
            <td contenteditable="true"></td>
            <td contenteditable="true"></td>
            <td contenteditable="true"></td>
            <td contenteditable="true"></td>
            <td contenteditable="true"></td>
        </tr>
        <tr>
            <td>ç¬¬2èŠ‚</td>
            <td contenteditable="true"></td>
            <td contenteditable="true"></td>
            <td contenteditable="true"></td>
            <td contenteditable="true"></td>
            <td contenteditable="true"></td>
            <td contenteditable="true"></td>
            <td contenteditable="true"></td>
        </tr>
        <tr>
            <td>ç¬¬3èŠ‚</td>
            <td contenteditable="true"></td>
            <td contenteditable="true"></td>
            <td contenteditable="true"></td>
            <td contenteditable="true"></td>
            <td contenteditable="true"></td>
            <td contenteditable="true"></td>
            <td contenteditable="true"></td>
        </tr>
        <tr>
            <td>ç¬¬4èŠ‚</td>
            <td contenteditable="true"></td>
            <td contenteditable="true"></td>
            <td contenteditable="true"></td>
            <td contenteditable="true"></td>
            <td contenteditable="true"></td>
            <td contenteditable="true"></td>
            <td contenteditable="true"></td>
        </tr>
        <tr>
            <td>ç¬¬5èŠ‚</td>
            <td contenteditable="true"></td>
            <td contenteditable="true"></td>
            <td contenteditable="true"></td>
            <td contenteditable="true"></td>
            <td contenteditable="true"></td>
            <td contenteditable="true"></td>
            <td contenteditable="true"></td>
        </tr>
        <tr>
            <td colspan="8">åˆä¼‘</td>
        </tr>
        <tr>
            <td>ç¬¬6èŠ‚</td>
            <td contenteditable="true"></td>
            <td contenteditable="true"></td>
            <td contenteditable="true"></td>
            <td rowspan="4">ç¨‹åºè®¾è®¡</td>
            <td rowspan="4">ç¨‹åºè®¾è®¡</td>
            <td contenteditable="true"></td>
            <td contenteditable="true"></td>
        </tr>
        <tr>
            <td>ç¬¬7èŠ‚</td>
            <td contenteditable="true"></td>
            <td contenteditable="true"></td>
            <td rowspan="3">è¯¾å¤–ç­”ç–‘</td>
            <td contenteditable="true"></td>
            <td contenteditable="true"></td>
        </tr>
        <tr>
            <td>ç¬¬8èŠ‚</td>
            <td contenteditable="true"></td>
            <td contenteditable="true"></td>
            <td contenteditable="true"></td>
            <td contenteditable="true"></td>
        </tr>
        <tr>
            <td>ç¬¬9èŠ‚</td>
            <td contenteditable="true"></td>
            <td contenteditable="true"></td>
            <td contenteditable="true"></td>
            <td contenteditable="true"></td>
        </tr>
        <tr>
            <td colspan="8">æ™šé¥­æ—¶é—´</td>
        </tr>
        <tr>
            <td>ç¬¬10èŠ‚</td>
            <td contenteditable="true"></td>
            <td contenteditable="true"></td>
            <td contenteditable="true"></td>
            <td contenteditable="true"></td>
            <td contenteditable="true"></td>
            <td contenteditable="true"></td>
            <td contenteditable="true"></td>
        </tr>
        <tr>
            <td>ç¬¬11èŠ‚</td>
            <td contenteditable="true"></td>
            <td contenteditable="true"></td>
            <td contenteditable="true"></td>
            <td contenteditable="true"></td>
            <td contenteditable="true"></td>
            <td contenteditable="true"></td>
            <td contenteditable="true"></td>
        </tr>
        <tr>
            <td>ç¬¬12èŠ‚</td>
            <td contenteditable="true"></td>
            <td contenteditable="true"></td>
            <td contenteditable="true"></td>
            <td contenteditable="true"></td>
            <td contenteditable="true"></td>
            <td contenteditable="true"></td>
            <td contenteditable="true"></td>
        </tr>
    </table>
<script>
document.addEventListener('DOMContentLoaded', function() {
const table = document.querySelector('table');
// é€‰æ‹©æ‰€æœ‰å¯ç¼–è¾‘çš„å•å…ƒæ ¼ï¼ˆæ’é™¤æœ‰colspanæˆ–rowspançš„æ ‡é¢˜å•å…ƒæ ¼ï¼‰
const cells = table.querySelectorAll('td:not([colspan]):not([rowspan])');

cells.forEach(cell => {
// åˆ›å»ºå®¹å™¨
const container = document.createElement('div');
container.className = 'course-container';
cell.appendChild(container);

// åˆå§‹åŒ–å•å…ƒæ ¼å†…å®¹
const initialText = cell.innerText.trim();
cell.innerText = ''; // æ¸…ç©ºåŸå§‹å†…å®¹ï¼Œé¿å…é‡å¤

if (initialText !== '') {
// æœ‰è¯¾ç¨‹ä¿¡æ¯
const courseName = document.createElement('span');
courseName.className = 'course-name';
courseName.innerText = initialText;
container.appendChild(courseName);

const editIcon = document.createElement('span');
editIcon.className = 'edit-icon';
editIcon.innerText = 'âœï¸';
container.appendChild(editIcon);

const deleteIcon = document.createElement('span');
deleteIcon.className = 'delete-icon';
deleteIcon.innerText = 'ğŸ—‘ï¸';
container.appendChild(deleteIcon);

// åˆ é™¤åŠŸèƒ½
deleteIcon.addEventListener('click', function() {
container.innerHTML = '';
const addIcon = document.createElement('span');
addIcon.className = 'add-icon';
addIcon.innerText = 'â•';
container.appendChild(addIcon);
addAddEvent(addIcon, container);
});

// ç¼–è¾‘åŠŸèƒ½
editIcon.addEventListener('click', function() {
const input = document.createElement('input');
input.type = 'text';
input.value = courseName.innerText;
container.innerHTML = '';
container.appendChild(input);
input.focus();

input.addEventListener('blur', function() {
const newValue = input.value.trim();
if (newValue === '') {
const confirmDelete = confirm('æ˜¯å¦ç¡®è®¤è¾“å…¥ä¿¡æ¯ä¸ºç©ºä¼šåˆ é™¤è¯¾ç¨‹ï¼Ÿ');
if (confirmDelete) {
container.innerHTML = '';
const addIcon = document.createElement('span');
addIcon.className = 'add-icon';
addIcon.innerText = 'â•';
container.appendChild(addIcon);
addAddEvent(addIcon, container);
} else {
input.value = courseName.innerText;
input.focus(); // ä¿æŒç¼–è¾‘çŠ¶æ€
}
} else {
courseName.innerText = newValue;
container.innerHTML = '';
container.appendChild(courseName);
container.appendChild(editIcon);
container.appendChild(deleteIcon);
}
});
});
} else {
// æ²¡æœ‰è¯¾ç¨‹ä¿¡æ¯
const addIcon = document.createElement('span');
addIcon.className = 'add-icon';
addIcon.innerText = 'â•';
container.appendChild(addIcon);
addAddEvent(addIcon, container);
}
});

// æ–°å¢åŠŸèƒ½çš„äº‹ä»¶ç»‘å®šå‡½æ•°
function addAddEvent(addIcon, container) {
addIcon.addEventListener('click', function() {
const input = document.createElement('input');
input.type = 'text';
container.innerHTML = '';
container.appendChild(input);
input.focus();

input.addEventListener('blur', function() {
const newValue = input.value.trim();
if (newValue !== '') {
const courseName = document.createElement('span');
courseName.className = 'course-name';
courseName.innerText = newValue;
container.innerHTML = '';
container.appendChild(courseName);

const editIcon = document.createElement('span');
editIcon.className = 'edit-icon';
editIcon.innerText = 'âœï¸';
container.appendChild(editIcon);

const deleteIcon = document.createElement('span');
deleteIcon.className = 'delete-icon';
deleteIcon.innerText = 'ğŸ—‘ï¸';
container.appendChild(deleteIcon);

// ä¸ºæ–°å¢çš„è¯¾ç¨‹ç»‘å®šç¼–è¾‘äº‹ä»¶
editIcon.addEventListener('click', function() {
const input = document.createElement('input');
input.type = 'text';
input.value = courseName.innerText;
container.innerHTML = '';
container.appendChild(input);
input.focus();

input.addEventListener('blur', function() {
const newValue = input.value.trim();
if (newValue === '') {
const confirmDelete = confirm('æ˜¯å¦ç¡®è®¤è¾“å…¥ä¿¡æ¯ä¸ºç©ºä¼šåˆ é™¤è¯¾ç¨‹ï¼Ÿ');
if (confirmDelete) {
container.innerHTML = '';
const addIcon = document.createElement('span');
addIcon.className = 'add-icon';
addIcon.innerText = 'â•';
container.appendChild(addIcon);
addAddEvent(addIcon, container);
} else {
input.value = courseName.innerText;
input.focus();
}
} else {
courseName.innerText = newValue;
container.innerHTML = '';
container.appendChild(courseName);
container.appendChild(editIcon);
container.appendChild(deleteIcon);
}
});
});

// ä¸ºæ–°å¢çš„è¯¾ç¨‹ç»‘å®šåˆ é™¤äº‹ä»¶
deleteIcon.addEventListener('click', function() {
container.innerHTML = '';
const addIcon = document.createElement('span');
addIcon.className = 'add-icon';
addIcon.innerText = 'â•';
container.appendChild(addIcon);
addAddEvent(addIcon, container);
});
} else {
container.innerHTML = '';
const addIcon = document.createElement('span');
addIcon.className = 'add-icon';
addIcon.innerText = 'â•';
container.appendChild(addIcon);
addAddEvent(addIcon, container);
}
});
});
}
});
</script>
</body>

</html>